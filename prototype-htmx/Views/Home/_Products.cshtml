@model prototype_htmx.Models.LoadMoreModel
@{
    Layout = null;
}
@foreach (var product in Model.Products)
{
    <div class="product-card"
         @if (Model.HasMore && product == Model.Products.Last())
         {
             <text>
                 hx-get="@Url.Action("LoadMore", "Home", new { cursor = product.Id })"
                 hx-trigger="revealed"
                 hx-swap="afterend"
             </text>
         }>

         @await Html.PartialAsync("Product", product)
    </div>

}

